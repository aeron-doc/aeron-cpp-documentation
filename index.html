<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aeron: Aeron</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aeron
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Aeron </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://gitter.im/real-logic/Aeron?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"></a> To chat with other Aeron users and the contributors.</p>
<p>Efficient reliable UDP unicast, UDP multicast, and IPC message transport. Java and C++ clients are available in this repository, and a <a href="https://github.com/AdaptiveConsulting/Aeron.NET">.NET client</a> is available from a 3rd party. All three clients can exchange messages across machines, or on the same machine via IPC, very efficiently. Streams can be recorded to an Archive for later replay.</p>
<p>Performance is the key focus. Aeron is designed to be the highest throughput with the lowest and most predictable latency possible of any messaging system. Aeron integrates with <a href="https://github.com/real-logic/simple-binary-encoding">Simple Binary Encoding (SBE)</a> for the best possible performance in message encoding and decoding. Many of the data structures used in the creation of Aeron have been factored out to the <a href="https://github.com/real-logic/agrona">Agrona</a> project.</p>
<p>For details of usage, protocol specification, FAQ, etc. please check out the <a href="https://github.com/real-logic/aeron/wiki">Wiki</a>.</p>
<p>For those who prefer to watch a video then try <a href="https://www.youtube.com/watch?v=tM4YskS94b0">Aeron Messaging</a> from StrangeLoop 2014. Things have moved on quite a bit with performance and some features but the basic design still applies.</p>
<p>For the latest version information and changes see the <a href="https://github.com/real-logic/aeron/wiki/Change-Log">Change Log</a> with <b>downloads</b> at <a href="http://search.maven.org/#search%7Cga%7C1%7Caeron">Maven Central</a>.</p>
<h3>How do I use Aeron?</h3>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Java-Programming-Guide">Java Programming Guide</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Cpp-Programming-Guide">C++11 Programming Guide</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Best-Practices-Guide">Best Practices Guide</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Monitoring-and-Debugging">Monitoring and Debugging</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Configuration-Options">Configuration Options</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Channel-Configuration">Channel Specific Configuration</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Aeron-Archive">Aeron Archive</a></li>
</ol>
<h3>How does Aeron work?</h3>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Protocol-Specification">Protocol Specification</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Design-Overview">Design Overview</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Design-Principles">Design Principles</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Flow-and-Congestion-Control">Flow Control Semantics</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Media-Driver-Operation">Media Driver Operation</a></li>
</ol>
<h3>How do I hack on Aeron?</h3>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Hacking-on-Aeron">Hacking on Aeron</a></li>
</ol>
<ol type="1">
<li><a href="https://github.com/real-logic/aeron/wiki/Performance-Testing">Performance Testing</a></li>
</ol>
<h2>Build </h2>
<h3>Java Build</h3>
<p>The project is built with <a href="http://gradle.org/">Gradle</a> using this <a href="https://github.com/real-logic/aeron/blob/master/build.gradle">build.gradle</a> file.</p>
<p>You require the following to build Aeron:</p>
<ul>
<li>Latest stable <a href="http://www.oracle.com/technetwork/java/">Oracle JDK 8</a>, Java versions before 1.8.0_65 are very buggy and can cause tests to fail.</li>
</ul>
<p>You must first build and install <a href="https://github.com/real-logic/agrona">Agrona</a> and <a href="https://github.com/real-logic/simple-binary-encoding">Simple Binary Encoding (SBE)</a> into the local maven repository</p>
<div class="fragment"><div class="line">$ ./gradlew</div></div><!-- fragment --><p>After Agrona &amp; SBE is compiled and installed, then you can build Aeron.</p>
<p>Full clean and build of all modules</p>
<div class="fragment"><div class="line">$ ./gradlew</div></div><!-- fragment --><h3>C++ Build</h3>
<p>You require the following to build the C++ API for Aeron:</p>
<ul>
<li>3.0.2 or higher of <a href="http://www.cmake.org/">CMake</a></li>
<li>C++11 supported compiler for the supported platform</li>
<li>C11 supported compiler for the supported platform</li>
<li>Requirements to build <a href="https://github.com/HdrHistogram/HdrHistogram_c">HdrHistogram_c</a>. HdrHistogram requires <code>zlib.h</code> currently. So on Ubuntu:</li>
</ul>
<div class="fragment"><div class="line">$ sudo apt-get install libz-dev</div></div><!-- fragment --><p><b>Note</b>: Aeron is supported on Linux, Mac, and Windows. Windows builds require Visual Studio and are being developed with Visual Studio 2013 and 2015 with 64-bit builds only. Cygwin, MSys, etc. may work, but are not maintained at this time.</p>
<p>For convenience, a script is provided that does a full clean, build, and test of all targets as a Release build.</p>
<div class="fragment"><div class="line">$ ./cppbuild/cppbuild</div></div><!-- fragment --><p>If you are comfortable with using CMake, then a full clean, build, and test looks like:</p>
<div class="fragment"><div class="line">$ mkdir -p cppbuild/Debug</div><div class="line">$ cd cppbuild/Debug</div><div class="line">$ cmake ../..</div><div class="line">$ cmake --build . --clean-first</div><div class="line">$ ctest</div></div><!-- fragment --><h4>C Media Driver</h4>
<p>By default, the C Media Driver is not built as part of the C++ Build. However, it can be enabled via the CMake option <code>BUILD_AERON_DRIVER</code> being set to <code>ON</code>.</p>
<p>For convenience, a script is provided that does a full clean, build, and test of all targets as a Release build of the C++ API and the C Media Driver.</p>
<div class="fragment"><div class="line">$ ./cppbuild/cppbuild -b</div></div><!-- fragment --><p>If you are comfortable with using CMake, then a full clean, build, and test looks like:</p>
<div class="fragment"><div class="line">$ mkdir -p cppbuild/Debug</div><div class="line">$ cd cppbuild/Debug</div><div class="line">$ cmake -DBUILD_AERON_DRIVER=ON ../..</div><div class="line">$ cmake --build . --clean-first</div><div class="line">$ ctest</div></div><!-- fragment --><p><b>Note</b>: C Media Driver is currently only supported on Mac and Linux.</p>
<p>For dependencies and other information, see the https://github.com/real-logic/aeron/blob/master/aeron-driver/src/main/c/README.md "README".</p>
<h4>Documentation</h4>
<p>If you have doxygen installed and want to build the Doxygen doc, there is a nice <code>doc</code> target that can be used.</p>
<div class="fragment"><div class="line">$ make doc</div></div><!-- fragment --><h4>Packaging</h4>
<p>If you would like a packaged version of the compiled API, there is the <code>package</code> target that uses CPack. If the doc has been built previous to the packaging, it will be included. Packages created are "TGZ;STGZ", but can be changed by running <code>cpack</code> directly.</p>
<div class="fragment"><div class="line">$ make package</div></div><!-- fragment --><h2>Running Samples </h2>
<p>Start up a media driver which will create the data and conductor directories. On Linux, this will probably be in <code>/dev/shm/aeron</code> or <code>/tmp/aeron</code>.</p>
<div class="fragment"><div class="line">$ java -cp aeron-samples/build/libs/samples.jar io.aeron.driver.MediaDriver</div></div><!-- fragment --><p>Alternatively, specify the data and conductor directories. The following example uses the shared memory 'directory' on Linux, but you could just as easily point to the regular filesystem.</p>
<div class="fragment"><div class="line">$ java -cp aeron-samples/build/libs/samples.jar -Daeron.dir=/dev/shm/aeron io.aeron.driver.MediaDriver</div></div><!-- fragment --><p>You can run the <code>BasicSubscriber</code> from a command line. On Linux, this will be pointing to the <code>/dev/shm</code> shared memory directory, so be sure your <code>MediaDriver</code> is doing the same!</p>
<div class="fragment"><div class="line">$ java -cp aeron-samples/build/libs/samples.jar io.aeron.samples.BasicSubscriber</div></div><!-- fragment --><p>You can run the <code>BasicPublisher</code> from a command line. On Linux, this will be pointing to the <code>/dev/shm</code> shared memory directory, so be sure your <code>MediaDriver</code> is doing the same!</p>
<div class="fragment"><div class="line">$ java -cp aeron-samples/build/libs/samples.jar io.aeron.samples.BasicPublisher</div></div><!-- fragment --><p>You can run the <code>AeronStat</code> utility to read system counters from a command line</p>
<div class="fragment"><div class="line">$ java -cp aeron-samples/build/libs/samples.jar io.aeron.samples.AeronStat</div></div><!-- fragment --><h2>Media Driver Packaging </h2>
<p>The Media Driver is packaged by the default build into an application that can be found here </p><pre class="fragment">aeron-driver/build/distributions/aeron-driver-${VERSION}.zip
</pre><h2>Troubleshooting </h2>
<ol type="1">
<li>On linux, the subscriber sample throws an exception</li>
</ol>
<div class="fragment"><div class="line">java.lang.InternalError(a fault occurred in a recent unsafe memory access operation in compiled Java code)</div></div><!-- fragment --><p>This is actually an out of disk space issue.</p>
<p>To alleviate, check to make sure you have enough disk space.</p>
<p>In the samples, on Linux, this will probably be either at <code>/dev/shm/aeron</code> or <code>/tmp/aeron</code> (depending on your settings).</p>
<p>See this <a href="https://issues.apache.org/jira/browse/CASSANDRA-5737?focusedCommentId=14251018&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14251018">thread</a> for a similar problem.</p>
<p>Note: if you are trying to run this inside a Linux Docker, be aware that, by default, <a href="https://github.com/docker/docker/issues/2606">Docker only allocates 64 MB</a> to the <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CB8QFjAA&amp;url=http%3A%2F%2Fwww.cyberciti.biz%2Ftips%2Fwhat-is-devshm-and-its-practical-usage.html&amp;ei=NBEPVcfzLZLWoASv8IKYCA&amp;usg=AFQjCNHwBF2R9m4v_Z9pyNlunei2gH-ssA&amp;sig2=VzzxpzRAGoHRjpH_MhRL8w&amp;bvm=bv.88528373,d.cGU">shared memory</a> space at <code>/dev/shm</code>. However, the samples will quickly outgrow this.</p>
<p>You can work around this issue by using the <code>--shm-size</code> argument for <code>docker run</code> or <code>shm_size</code> in <code>docker-compose.yaml</code>.</p>
<h2>License (See LICENSE file for full license) </h2>
<p>Copyright 2014-2018 Real Logic Limited</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 16 2018 19:20:33 for Aeron by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
